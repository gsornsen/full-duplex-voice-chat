# =============================================================================
# Unified Development Workflow - Default Environment
# =============================================================================
# This file contains sensible defaults for all deployment modes.
# DO NOT edit this file directly. Create .env.local for overrides.

# -----------------------------------------------------------------------------
# Infrastructure (Redis, LiveKit, Caddy)
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}

LIVEKIT_HOST=livekit
LIVEKIT_PORT=7880
LIVEKIT_URL=ws://${LIVEKIT_HOST}:${LIVEKIT_PORT}
LIVEKIT_API_KEY=devkey
LIVEKIT_API_SECRET=devsecret1234567890abcdefghijklmn

CADDY_HTTPS_PORT=8443
CADDY_WSS_PORT=8444
CADDY_HTTP_PORT=80

# -----------------------------------------------------------------------------
# Model Selection
# -----------------------------------------------------------------------------
# Valid values: piper, cosyvoice2, xtts, sesame, openai
DEFAULT_MODEL=piper

# -----------------------------------------------------------------------------
# Orchestrator Configuration
# -----------------------------------------------------------------------------
ORCHESTRATOR_HOST=0.0.0.0
ORCHESTRATOR_WS_PORT=8080
ORCHESTRATOR_HEALTH_PORT=8081
ORCHESTRATOR_CONFIG=/app/configs/orchestrator.docker.yaml

# Orchestrator Mode Selection
# - agent (default): LiveKit Agent mode for web frontend (requires OPENAI_API_KEY)
# - legacy: WebSocket server mode for CLI client
ORCHESTRATOR_MODE=agent

# ASR Configuration
ASR_ENABLED=true
ASR_ADAPTER=whisperx
ASR_MODEL_SIZE=small
ASR_DEVICE=auto

# -----------------------------------------------------------------------------
# TTS Worker Configuration (Generic)
# -----------------------------------------------------------------------------
WORKER_NAME_PREFIX=tts-worker
WORKER_GRPC_HOST=0.0.0.0
WORKER_GRPC_PORT=7001
WORKER_METRICS_PORT=9090
WORKER_HEALTH_CHECK_INTERVAL=30

# TTS Worker Address (for orchestrator agent mode)
# - Docker: Use service alias (tts:7001)
# - Local: Use localhost (localhost:7001)
TTS_WORKER_ADDRESS=localhost:7001

# Model Manager Settings
TTL_MS=600000                # 10 minutes idle
MIN_RESIDENCY_MS=120000      # 2 minutes minimum
RESIDENT_CAP=2               # Max 2 models in VRAM
MAX_PARALLEL_LOADS=1         # Sequential loading

# Audio Output (Project Standard)
SAMPLE_RATE=48000
FRAME_MS=20
CHANNELS=1

# -----------------------------------------------------------------------------
# GPU Configuration
# -----------------------------------------------------------------------------
CUDA_VISIBLE_DEVICES=0

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=json
ENABLE_STRUCTURED_LOGS=true

# -----------------------------------------------------------------------------
# Development
# -----------------------------------------------------------------------------
DEBUG=false
ENABLE_PROFILING=false
ENABLE_METRICS=true
